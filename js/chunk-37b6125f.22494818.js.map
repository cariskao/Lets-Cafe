{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/backend/Orders.vue?a196","webpack:///src/views/backend/Orders.vue","webpack:///./src/views/backend/Orders.vue?cffd","webpack:///./src/views/backend/Orders.vue"],"names":["fails","__webpack_require__","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","staticClass","_m","_l","item","key","class","text-secondary","is_paid","_v","_s","_f","create_at","domProps","textContent","user","email","_e","product","i","title","qty","unit","total","id","Pages","pagination","getPage","getOrders","staticRenderFns","Ordersvue_type_script_lang_js_","data","orders","isNew","methods","page","arguments","length","vm","url","concat","Object","NODE_ENV","VUE_APP_API","VUE_APP_CLI_UI_URL","VUE_APP_CUSTOM_PATH","BASE_URL","VUE_APP_API_PATH","$http","get","tempProduct","then","response","console","log","computed","sortOrder","newOrder","a","b","aIsPaid","bIsPaid","created","backend_Ordersvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-37b6125f.22494818.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.sortOrder),function(item,key){return _c('tr',{key:key,class:{'text-secondary': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"date\")(item.create_at)))]),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\"\\n              \"+_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n              \"+_vm._s(product.product.unit)+\"\\n            \")])}),0)]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-danger\"},[_vm._v(\"尚未付款\")])]),_c('td',[_vm._v(_vm._s(item.id))])])}),0)]),_c('Pagination',{attrs:{\"Pages\":_vm.pagination},on:{\"getPage\":_vm.getOrders}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"購買時間\")]),_c('th',[_vm._v(\"Email\")]),_c('th',[_vm._v(\"購買款項\")]),_c('th',[_vm._v(\"應付金額\")]),_c('th',[_vm._v(\"是否付款\")]),_c('th',[_vm._v(\"訂單編號\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Loading :active.sync=\"isLoading\"></Loading>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th>購買時間</th>\r\n          <th>Email</th>\r\n          <th>購買款項</th>\r\n          <th>應付金額</th>\r\n          <th>是否付款</th>\r\n          <th>訂單編號</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, key) in sortOrder\" :key=\"key\" :class=\"{'text-secondary': !item.is_paid}\">\r\n          <td>{{ item.create_at | date }}</td>\r\n          <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n          <td>\r\n            <ul class=\"list-unstyled\">\r\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                {{ product.product.title }} 數量：{{ product.qty }}\r\n                {{ product.product.unit }}\r\n              </li>\r\n            </ul>\r\n          </td>\r\n          <td class=\"text-right\">{{ item.total | currency }}</td>\r\n          <td>\r\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\r\n            <span v-else class=\"text-danger\">尚未付款</span>\r\n          </td>\r\n          <td>{{ item.id}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination :Pages=\"pagination\" @getPage=\"getOrders\"></Pagination>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: {},\r\n      isNew: false,\r\n      pagination: {},\r\n      isLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getOrders(page = 1) { // 取得所有訂單內容\r\n      const vm = this;\r\n      const url = `${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/admin/orders?page=${page}`;\r\n      vm.isLoading = true;\r\n      \r\n      this.$http.get(url, vm.tempProduct).then((response) => {\r\n        console.log('所有訂單內容', response);\r\n        vm.orders = response.data.orders;\r\n        vm.pagination = response.data.pagination;\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    sortOrder() { // 訂單排序\r\n      const vm = this;\r\n      let newOrder = [];\r\n      if (vm.orders.length) {\r\n        newOrder = vm.orders.sort((a, b) => {\r\n          const aIsPaid = a.is_paid ? 1 : 0;\r\n          const bIsPaid = b.is_paid ? 1 : 0;\r\n          return bIsPaid - aIsPaid;\r\n        });\r\n      }\r\n      return newOrder;\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrders();\r\n    console.log(process.env.VUE_APP_API_PATH);\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=55c85988&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}