{"version":3,"sources":["webpack:///H:/Hex school/Vue.js/vue-cli3/src/views/frontend/checkout.vue?b206","webpack:///src/views/frontend/checkout.vue","webpack:///H:/Hex school/Vue.js/vue-cli3/src/views/frontend/checkout.vue?2bfb","webpack:///H:/Hex school/Vue.js/vue-cli3/src/views/frontend/checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","order","attrs","role","_v","on","submit","$event","preventDefault","payOrder","_l","item","key","id","_s","product","title","qty","unit","_f","final_total","colspan","total","width","user","email","name","tel","address","is_paid","_e","to","staticRenderFns","checkoutvue_type_script_lang_js_","data","orderId","methods","getOrder","vm","api","concat","$store","dispatch","root","$http","get","then","response","console","log","post","success","created","$route","params","frontend_checkoutvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0d3a2c.218d3740.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('section',{staticClass:\"form-row text-center\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"col-12 col-sm\"},[(_vm.order.is_paid)?_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        3.付款完成\\n      \")]):_c('div',{staticClass:\"alert alert-main alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        3.付款完成\\n      \")])])]),_c('div',{staticClass:\"row justify-content-center my-3\"},[_c('form',{staticClass:\"col-md-6\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[_c('h3',{staticClass:\"text-center text-lighter p-3\"},[_vm._v(\"購買資訊\")]),_c('table',{staticClass:\"table text-lighter table-borderless mb-5\"},[_vm._m(2),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\" \"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"h3 text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"h3 text-right\"},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])])]),_c('h3',{staticClass:\"text-center text-lighter p-3\"},[_vm._v(\"個人資料\")]),_c('table',{staticClass:\"table text-lighter table-borderless\"},[_c('tbody',[_c('tr',[_c('th',{attrs:{\"width\":\"200\"}},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-success\"},[_vm._v(\"付款完成\")])])])])]),(_vm.order.is_paid === false)?_c('button',{staticClass:\"btn btn-lighter btn-block btn-lg card-btn my-3\"},[_c('i',{staticClass:\"fas fa-money-check-alt fa-lg mr-3\"}),_vm._v(\"確認付款\\n      \")]):_vm._e(),(_vm.order.is_paid === true)?_c('router-link',{staticClass:\"btn btn-lighter btn-block btn-lg card-btn my-3\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-shopping-cart fa-lg mr-3\"}),_vm._v(\"繼續購物\\n      \")]):_vm._e()],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        1.輸入訂單資料\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        2.金流付款\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',[_vm._v(\"品名\")]),_c('th',{attrs:{\"width\":\"80\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"160\"}},[_vm._v(\"小計\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <!-- 訂單流程 -->\n    <section class=\"form-row text-center\">\n      <div class=\"col-12 col-sm\">\n        <div class=\"alert alert-success alert-rounded\" role=\"alert\">\n          1.輸入訂單資料\n        </div>\n      </div>\n      <div class=\"col-12 col-sm\">\n        <div class=\"alert alert-success alert-rounded\" role=\"alert\">\n          2.金流付款\n        </div>         \n      </div>\n      <div class=\"col-12 col-sm\">\n        <div class=\"alert alert-success alert-rounded\" role=\"alert\" v-if=\"order.is_paid\">\n          3.付款完成\n        </div>\n        <div class=\"alert alert-main alert-rounded\" role=\"alert\" v-else>\n          3.付款完成\n        </div>\n      </div>\n    </section>    \n    <div class=\"row justify-content-center my-3\">\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n        <!-- 訂單內容 -->\n        <h3 class=\"text-center text-lighter p-3\">購買資訊</h3>\n        <table class=\"table text-lighter table-borderless mb-5\">\n          <thead class=\"thead-dark\">\n            <tr>\n              <th>品名</th>\n              <th width=\"80\">數量</th>\n              <th class=\"text-right\" width=\"160\">小計</th>\n            </tr>             \n          </thead>\n          <tbody>\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\n              <td class=\"align-middle\">{{ item.product.title }}</td>\n              <td class=\"align-middle\">{{ item.qty }} {{ item.product.unit }}</td>\n              <td class=\"align-middle text-right\">{{ item.final_total | currency }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"2\" class=\"h3 text-right\">總計</td>\n              <td class=\"h3 text-right\">\n                <strong>{{ order.total | currency }}</strong>\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n        <!-- user 資訊 -->\n        <h3 class=\"text-center text-lighter p-3\">個人資料</h3>\n        <table class=\"table text-lighter table-borderless\">\n          <tbody>\n            <tr>\n              <th width=\"200\">Email</th>\n              <td>{{ order.user.email }}</td>\n            </tr>\n            <tr>\n              <th>姓名</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr>\n              <th>收件人電話</th>\n              <td>{{ order.user.tel }}</td>\n            </tr>\n            <tr>\n              <th>收件人地址</th>\n              <td>{{ order.user.address }}</td>\n            </tr>\n            <tr>\n              <th>付款狀態</th>\n              <td>\n                <span v-if=\"!order.is_paid\" class=\"text-danger\" >尚未付款</span>\n                <span v-else class=\"text-success\">付款完成</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <button class=\"btn btn-lighter btn-block btn-lg card-btn my-3\" v-if=\"order.is_paid === false\">\n          <i class=\"fas fa-money-check-alt fa-lg mr-3\"></i>確認付款\n        </button>\n        <router-link class=\"btn btn-lighter btn-block btn-lg card-btn my-3\" to=\"/\" v-if=\"order.is_paid === true\">\n          <i class=\"fas fa-shopping-cart fa-lg mr-3\"></i>繼續購物\n        </router-link>         \n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      orderId: '',\n      order: {\n        user: {},\n      },\n    }\n  },\n  methods: {\n    getOrder() {\n      const vm = this;\n      const api =`${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/order/${vm.orderId}`;\n      vm.$store.dispatch('updateLoading', true, { root: true });\n      \n      this.$http.get(api).then((response) => {\n        console.log('訂單內容', response.data);\n        vm.order = response.data.order;\n        vm.$store.dispatch('updateLoading', false, { root: true });\n      });\n    },\n    payOrder() {\n      const vm = this;\n      const api =`${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/pay/${vm.orderId}`;\n      vm.$store.dispatch('updateLoading', true, { root: true });\n      \n      this.$http.post(api).then((response) => {\n        console.log('結帳', response);\n        if (response.data.success) {\n          vm.getOrder();\n        }\n        vm.$store.dispatch('updateLoading', false, { root: true });\n      });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkout.vue?vue&type=template&id=f7b78274&\"\nimport script from \"./checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}